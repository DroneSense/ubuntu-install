import { Command } from '../models/Command';
import { SensorCaptureCommand } from '../models/commands/SensorCaptureCommand';
import { TakeoffCommand } from '../models/commands/TakeoffCommand';
import { WaypointCommand } from '../models/commands/WaypointCommand';

export class CommandFactory {
    private static _mappings: { [index: string]: new(type: string, id: string, handle: any, isBase: boolean) => any } = {
        'waypoint': WaypointCommand,
        'takeoff': TakeoffCommand,
        'sensor': SensorCaptureCommand
    };

    static createCommand(type: string, id: string, handle: any, isBase: boolean): Command {
        if (this._mappings[type]) {
            return new this._mappings[type](type, id, handle, isBase);
        } else {
            return null;
        }
    }
}
