import ModelBase from './ModelBase';

export class Subscription extends ModelBase {

    // PlanName: string;
    private _planName: string;

    get PlanName(): string {
        return this._planName;
    }
    set PlanName(value: string) {
        if (this.handle) {
            this.handle.setValue('PlanName', value);
        } else {
            this._planName = value;
        }
    }

    // Billing Frequency: string;
    private _billingFrequency: string;

    get BillingFrequency(): string {
        return this._billingFrequency;
    }
    set BillingFrequency(value: string) {
        if (this.handle) {
            this.handle.setValue('BillingFrequency', value);
        } else {
            this._billingFrequency = value;
        }
    }

    constructor();
    constructor(handle?: any) {
        super();

        if (this.handle) {
            super(handle);

            this.hydrate(handle.data);

            handle.on(handle.EVENTS.DATA_CHANGED, this.hydrate, this);
        }
    }

    hydrate(data: any): void {

        super.hydrate(data);

        if (data) {

            if (this.PlanName !== data.PlanName) {
                this._billingFrequency = data.PlanName;
                this.trigger('PlanName', this.PlanName);
            }

            if (this.BillingFrequency !== data.BillingFrequency) {
                this._billingFrequency = data.BillingFrequency;
                this.trigger('BillingFrequency', this.BillingFrequency);
            }
        }
    }
}

export default Subscription;
