import { IEventEmitter } from './IEventEmitter';
import { IDroneMetadata } from './metadata/IDroneMetadata';

export module constants {
	export module commands {
		export const GET_DRONES: string = 'get-drones';
	}
	export module events {
		export const DRONE_CREATED: string = 'drone-created';
		export const DRONE_DESTROYED: string = 'drone-destroyed';
	}
}

export interface IDroneManager extends IEventEmitter {

	/**
	 * Gets the available drone configurations from the server.
	 * @returns {Promise<Array<IDroneMetadata>>} A promise that resolves with an array of IDroneMetadatas.
	 */
	getDrones(): Promise<Array<IDroneMetadata>>;

	// Events
	on(eventName: string, callback?: Function, context?: any): any;
	on(eventName: 'drone-created', callback?: (metadata: IDroneMetadata) => void, context?: any): any;
	on(eventName: 'drone-destroyed', callback?: (id: string) => void, context?: any): any;
}

export default IDroneManager;
