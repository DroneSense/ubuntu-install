{"version":3,"sources":["components/sessionViewer/sessionViewer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;YASA;gBA2BI,uBACW,QAAwB,EACxB,aAA6B;oBAD7B,aAAQ,GAAR,QAAQ,CAAgB;oBACxB,kBAAa,GAAb,aAAa,CAAgB;oBArBxC,kBAAa,GAAe,EAAE,CAAC;oBAE/B,WAAM,GAAwC;wBAC1C,IAAI,EAAE,EAAE;wBACR,MAAM,EAAE,EAAE;qBACb,CAAC;oBAEF,SAAI,GAAyE;wBACzE,OAAO,EAAE,EAAE;wBACX,SAAS,EAAE,EAAE;wBACb,cAAc,EAAE,KAAK;qBACxB,CAAC;oBAYE,6BAA6B;oBAC7B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBAExB,iDAAiD;oBACjD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACpC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACpC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;oBACxC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;oBACxC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;oBAC1C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;oBAC1C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;oBAC5C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;oBAE5C,8BAA8B;oBAC9B,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;oBAChC,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBACpC,CAAC;gBAED,+BAAO,GAAP;oBAAA,iBASC;oBARG,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,UAAC,KAA0B;wBAChE,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;wBAC5B,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,MAAoB;4BAC7C,KAAI,CAAC,aAAa,CAAC,uBAAuB,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;gCACpD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;4BACxB,CAAC,CAAC,CAAC;wBACP,CAAC,CAAC,CAAC;oBACP,CAAC,CAAC,CAAC;gBACP,CAAC;gBAED,oCAAY,GAAZ;oBACI,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBAC7B,CAAC;gBAED,oCAAY,GAAZ;oBACI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBAC5B,CAAC;gBA7CD,cAAc;gBACP,qBAAO,GAAkB;oBAC5B,QAAQ;oBACR,eAAe;iBAClB,CAAC;gBA0CN,oBAAC;YAAD,CAnEA,AAmEC,IAAA;YAED,oBAAe,OAAO,CAAC,MAAM,CAAC,8BAA8B,EAAE;gBAC1D,uBAAa,CAAC,IAAI;gBAClB,uBAAa,CAAC,IAAI;gBAClB,qBAAW,CAAC,IAAI;aACnB,CAAC,CAAC,SAAS,CAAC,iBAAiB,EAAE;gBAC5B,QAAQ,EAAE,EACT;gBACD,UAAU,EAAE,aAAa;gBACzB,WAAW,EAAE,mDAAmD;aACnE,CAAC,EAAC","file":"components/sessionViewer/sessionViewer.js","sourcesContent":["import { IRedProService, RedProStream } from '../../services/redProService';\nimport RedProService from '../../services/redProService';\nimport { FlightPlan, User, Tag } from '@dronesense/model';\nimport viewerToolbar from '../viewerToolbar/viewerToolbar';\nimport SessionCard from '../sessionCard/sessionCard';\n\nexport interface ISessionViewer extends ng.IScope {\n}\n\nclass SessionViewer {\n\n    activeSessions: Array<RedProStream>;\n\n    gridVisible: boolean;\n\n    searchText: string;\n\n    masterTagList: Array<Tag> = [];\n\n    filter: {tags: Array<Tag>, option: string } = {\n        tags: [],\n        option: ''\n    };\n\n    sort: {options: Array<string>, orderType: string, orderDirection: boolean} = {\n        options: [],\n        orderType: '',\n        orderDirection: false\n    };\n\n    // Constructor\n    static $inject: Array<string> = [\n        '$scope',\n        'redProService'\n    ];\n\n    constructor(\n        public bindings: ISessionViewer,\n        public redProService: IRedProService) {\n        \n        // Make grid the default view\n        this.gridVisible = true;\n\n        // Define sort options to give the viewer toolbar\n        this.sort.options.push('Name: A-Z');\n        this.sort.options.push('Name: Z-A');\n        this.sort.options.push('Location: A-Z');\n        this.sort.options.push('Location: Z-A');\n        this.sort.options.push('Created: Newest');\n        this.sort.options.push('Created: Oldest');\n        this.sort.options.push('Scheduled: Newest');\n        this.sort.options.push('Scheduled: Oldest');\n\n        // Set default view sort order\n        this.sort.orderType = 'Created';\n        this.sort.orderDirection = true;\n    }\n\n    $onInit(): void {\n        this.redProService.getLiveStreams().then((value: Array<RedProStream>) => {\n            this.activeSessions = value;\n            this.activeSessions.forEach((stream: RedProStream) => {\n                this.redProService.getLiveStreamStatistics(stream).then(() => {\n                    console.log(stream);\n                });\n            });\n        });\n    }\n\n    showListView(): void {\n        this.gridVisible = false;\n    }\n\n    showGridView(): void {\n        this.gridVisible = true;\n    }\n}\n\nexport default angular.module('DroneSense.Web.SessionViewer', [\n    RedProService.name,\n    viewerToolbar.name,\n    SessionCard.name\n]).component('dsSessionViewer', {\n    bindings: {\n    },\n    controller: SessionViewer,\n    templateUrl: './app/components/sessionViewer/sessionViewer.html'\n});\n"],"sourceRoot":"/source/"}