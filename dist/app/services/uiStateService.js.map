{"version":3,"sources":["services/uiStateService.ts"],"names":[],"mappings":"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","file":"services/uiStateService.js","sourcesContent":["import { GeoPoint } from '@dronesense/model';\n\nexport interface IUIStateService {\n    InitializeUIState(flightPlanId: string): void;\n\n    FlightInfoVisible: boolean;\n    FlightElevationVisible: boolean;\n    FlightWeatherVisible: boolean;\n    FlightSurveyVisible: boolean;\n    FlightSurveyImagesVisible: boolean;\n\n    ActiveSurveyDataId: string;\n\n    MapCenterLatLng: GeoPoint;\n    MapZoomLevel: number;\n    SelectedMap: string;\n    SelectedOverlay: string;\n\n    UserSettingsVisible: boolean;\n    DroneCameraVisible: boolean;\n    CommandsVisible: boolean;\n}\n\nclass UIStateService {\n\n    _flightInfoVisible: boolean = false;\n\n    get FlightInfoVisible(): boolean {\n        return this._flightInfoVisible;\n    }\n\n    set FlightInfoVisible(value: boolean) {\n        var data: any = {\n            flightInfoVisible: value,\n            flightElevationVisible: false,\n            flightWeatherVisible: false,\n            flightSurveyVisible: false,\n            flightSurveyImagesVisible: false\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    _flightElevationVisible: boolean = false;\n\n    get FlightElevationVisible(): boolean {\n        return this._flightElevationVisible;\n    }\n\n    set FlightElevationVisible(value: boolean) {\n        var data: any = {\n            flightInfoVisible: false,\n            flightElevationVisible: value,\n            flightWeatherVisible: false,\n            flightSurveyVisible: false,\n            flightSurveyImagesVisible: false\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    _flightWeatherVisible: boolean = false;\n\n    get FlightWeatherVisible(): boolean {\n        return this._flightWeatherVisible;\n    }\n\n    set FlightWeatherVisible(value: boolean) {\n        var data: any = {\n            flightInfoVisible: false,\n            flightElevationVisible: false,\n            flightWeatherVisible: value,\n            flightSurveyVisible: false,\n            flightSurveyImagesVisible: false\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    _flightSurveyVisible: boolean = false;\n\n    get FlightSurveyVisible(): boolean {\n        return this._flightSurveyVisible;\n    }\n\n    set FlightSurveyVisible(value: boolean) {\n        var data: any = {\n            flightInfoVisible: false,\n            flightElevationVisible: false,\n            flightWeatherVisible: false,\n            flightSurveyVisible: value,\n            flightSurveyImagesVisible: false\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    _flightSurveyImagesVisible: boolean = false;\n\n    get FlightSurveyImagesVisible(): boolean {\n        return this._flightSurveyImagesVisible;\n    }\n\n    set FlightSurveyImagesVisible(value: boolean) {\n        var data: any = {\n            flightInfoVisible: false,\n            flightElevationVisible: false,\n            flightWeatherVisible: false,\n            flightSurveyVisible: false,\n            flightSurveyImagesVisible: value\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    _activeSurveyDataId: string;\n\n    set ActiveSurveyDataId(id: string) {\n        var data: any = {\n            activeSurveyDataId: id,\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    droneCameraVisible: boolean = false;\n\n    get DroneCameraVisible(): boolean {\n        return this.droneCameraVisible;\n    }\n\n    set DroneCameraVisible(value: boolean) {\n        var data: any = {\n            droneCameraVisible: value\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    userSettingsVisible: boolean = false;\n\n    get UserSettingsVisible(): boolean {\n        return this.userSettingsVisible;\n    }\n\n    set UserSettingsVisible(value: boolean) {\n        var data: any = {\n            userSettingsVisible: value\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n\n    commandsVisible: boolean = false;\n\n    get CommandsVisible(): boolean {\n        return this.commandsVisible;\n    }\n\n    set CommandsVisible(value: boolean) {\n        var data: any = {\n            commandsVisible: value\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    mapCenterLatLng: GeoPoint;\n\n    get MapCenterLatLng(): GeoPoint {\n        return this.mapCenterLatLng;\n    }\n\n    set MapCenterLatLng(value: GeoPoint) {\n        var data: any = {\n            mapCenterLatLng: value\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    mapZoomLevel: number;\n\n    get MapZoomLevel(): number {\n        return this.mapZoomLevel;\n    }\n\n    set MapZoomLevel(value: number) {\n        var data: any = {\n            mapZoomLevel: value\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    selectedMap: string;\n\n    get SelectedMap(): string {\n        return this.selectedMap;\n    }\n\n    set SelectedMap(name: string) {\n        var data: any = {\n            selectedMap: name\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    selectedOverlay: string;\n\n    get SelectedOverlay(): string {\n        return this.selectedOverlay;\n    }\n\n    set SelectedOverlay(name: string) {\n        var data: any = {\n            selectedOverlay: name\n        };\n\n        this.UIStateHandle.update(data);\n    }\n\n    // Firebase DB Service\n    db: any;\n\n    $rootScope: ng.IRootScopeService;\n\n    // UI State Handle\n    UIStateHandle: any;\n\n    private _data: any = {};\n\n    static $inject: Array<string> = [\n        'db',\n        '$rootScope'\n    ];\n    constructor(db: any, $rootScope: ng.IRootScopeService) {\n\n        this.db = db;\n        this.$rootScope = $rootScope;\n\n    }\n\n    InitializeUIState(flightPlanId: string): void {\n\n        if (this.UIStateHandle) {\n            // First turn off previous handle updates\n            this.UIStateHandle.off(this.UIStateHandle.EVENTS.DATA_CHANGED);\n        }\n\n        this._data = {};\n\n        // Load new handle with new flight plan ID\n        this.UIStateHandle = this.db.flightplans.ui.getStateForFlightPlanWithId(flightPlanId);\n\n        var that: any = this;\n        this.UIStateHandle.on(this.UIStateHandle.EVENTS.DATA_CHANGED, function(data: any): void {\n            that.LoadValues(data);\n        });\n    }\n\n    LoadValues(data: any): void {\n        if (data) {\n\n            if (this._data.flightInfoVisible !== data.flightInfoVisible) {\n                this._flightInfoVisible = data.flightInfoVisible;\n            }\n\n            if (this._data.flightElevationVisible !== data.flightElevationVisible) {\n                this._flightElevationVisible = data.flightElevationVisible;\n            }\n\n            if (this._data.flightWeatherVisible !== data.flightWeatherVisible) {\n                this._flightWeatherVisible = data.flightWeatherVisible;\n                if (this._flightWeatherVisible) {\n                }\n            }\n\n            if (this._data.flightSurveyVisible !== data.flightSurveyVisible) {\n                this._flightSurveyVisible = data.flightSurveyVisible;\n            }\n\n            if (this._data.flightSurveyImagesVisible !== data.flightSurveyImagesVisible) {\n                this._flightSurveyImagesVisible = data.flightSurveyImagesVisible;\n            }\n\n            if (this._data.activeSurveyDataId !== data.activeSurveyDataId) {\n                this._activeSurveyDataId = data.activeSurveyDataId;\n            }\n\n            if (this._data.mapCenterLatLng !== data.mapCenterLatLng) {\n                this.mapCenterLatLng = data.mapCenterLatLng;\n            }\n\n            if (this._data.mapZoomLevel !== data.mapZoomLevel) {\n                this.mapZoomLevel = data.mapZoomLevel;\n            }\n\n            if (this._data.selectedMap !== data.selectedMap) {\n                this.selectedMap = data.selectedMap;\n            }\n\n            // TODO figure out how to make this work as a list\n            //if (this._data.selectedOverlay !== data.selectedOverlay) {\n            //    this.selectedOverlay = data.selectedOverlay;\n            //\n            //    this.$rootScope.$emit('uiStateService:mapOverlayChange', this.selectedOverlay);\n            //}\n\n            if (this._data.userSettingsVisible !== data.userSettingsVisible) {\n                this.userSettingsVisible = data.userSettingsVisible;\n            }\n\n            if (this._data.droneCameraVisible !== data.droneCameraVisible) {\n                this.droneCameraVisible = data.droneCameraVisible;\n            }\n\n            if (this._data.commandsVisible !== data.commandsVisible) {\n                this.commandsVisible = data.commandsVisible;\n            }\n\n            this._data = data;\n\n            this.$rootScope.$applyAsync();\n\n        }\n    }\n\n}\n\n\nexport default angular.module('DroneSense.Web.UIStateService', [\n\n]).service('uiStateService', UIStateService);\n\n// Code to persist the camera view angles\n\n// var StoredView = function()\n// {\n//         this.position = undefined;\n//         this.direction = undefined;\n//         this.up = undefined;\n//         this.right = undefined;\n//         this.transform = undefined;\n//         this.frustum = undefined;\n// };\n\n// StoredView.prototype.save = function(camera)\n// {\n//         if(typeof camera === 'undefined')\n//         {\n//             throw new DeveloperError('camera is required');\n//         }\n\n//         this.position = camera.position.clone(this.position);\n//         this.direction = camera.direction.clone(this.direction);\n//         this.up = camera.up.clone(this.up);\n//         this.right = camera.right.clone(this.right);\n//         this.transform = camera.transform.clone(this.transform);\n//         this.frustum = camera.frustum.clone(this.frustum);\n// };\n\n// StoredView.prototype.load = function(camera)\n// {\n//         if(typeof this.position === 'undefined')\n//         {\n//             throw new DeveloperError('no view has been stored');\n//         }\n\n//         this.position.clone(camera.position);\n//         this.direction.clone(camera.direction);\n//         this.up.clone(camera.up);\n//         this.right.clone(camera.right);\n//         this.transform.clone(camera.transform);\n//         this.frustum.clone(camera.frustum);\n// };\n"],"sourceRoot":"/source/"}