{"version":3,"sources":["services/mapService.ts"],"names":[],"mappings":";;;;;;;YAKA;gBAII,oBAAmB,EAAgB;oBAAhB,OAAE,GAAF,EAAE,CAAc;oBAInC,oBAAe,GAAiC,IAAI,MAAM,CAAC,qBAAqB,CAAC;wBACzE,qPAAqP;wBACrP,GAAG,EAAE,oCAAoC;qBAChD,CAAC,CAAC;gBALH,CAAC;gBAOD,iCAAY,GAAZ,UAAa,GAAW,EAAE,GAAW;oBAEjC,IAAI,QAAQ,GAAyB,IAAI,CAAC,EAAE,CAAC,KAAK,EAAU,CAAC;oBAE7D,4CAA4C;oBAC5C,IAAI,SAAS,GAA+B;wBACxC,MAAM,CAAC,YAAY,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC;qBAC5C,CAAC;oBAEF,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,gBAAqB;wBACjF,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;oBACjD,CAAC,CAAC,CAAC;oBAEH,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;gBAC5B,CAAC;gBAzBM,kBAAO,GAAkB,CAAC,IAAI,CAAC,CAAC;gBA2B3C,iBAAC;YAAD,CA7BA,AA6BC,IAAA;YAED,oBAAe,OAAO,CAAC,MAAM,CAAC,2BAA2B,EAAE,EAE1D,CAAC,CAAC,OAAO,CAAC,YAAY,EAAE,UAAU,CAAC,EAAC","file":"services/mapService.js","sourcesContent":["\nexport interface IMapService {\n    getElevation(lat: number, lng: number): ng.IPromise<number>;\n}\n\nclass MapService {\n    \n    static $inject: Array<string> = ['$q'];\n    \n    constructor(public $q: ng.IQService) {\n\n    }\n    \n    terrainProvider: Cesium.CesiumTerrainProvider = new Cesium.CesiumTerrainProvider({\n            //url: 'https://www.cesiumcontent.com/api/terrain/world?access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiJkMTM4ZDE2OS05NWYwLTQ0YmItOWY3YS0yNjEwOGE5Y2Y3NjYiLCJpZCI6NywiaWF0IjoxNDU1MjkyNzg5fQ.NDKlrwQZE_04ntDuL89hvatEmuycQo5llhtz3Mi6Wo0'\n            url: '//assets.agi.com/stk-terrain/world'\n    });\n    \n    getElevation(lat: number, lng: number): ng.IPromise<number> {\n        \n        var deferred: ng.IDeferred<number> = this.$q.defer<number>();\n        \n        // Create positions object for terrain query\n        var positions: Array<Cesium.Cartographic> = [\n            Cesium.Cartographic.fromDegrees(lng, lat)\n        ];\n        \n        Cesium.sampleTerrain(this.terrainProvider, 15, positions).then((updatedPositions: any): void => {\n            deferred.resolve(updatedPositions[0].height);\n        });\n        \n        return deferred.promise;\n    }\n    \n}\n\nexport default angular.module('DroneSense.Web.MapService', [\n    \n]).service('mapService', MapService);\n"],"sourceRoot":"/source/"}